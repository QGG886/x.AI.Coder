# 步骤 1：文件配对分析

## 任务目标

识别 `{FILES}` 中的文件类型，确认 WinForms 和 WPF 文件的配对关系。

## 执行操作

1. 列出所有待审查文件
2. 按类型分类：
   - `.Designer.cs` → WinForms 设计器代码文件
   - `.cs`（非 Designer）→ WinForms 后台代码文件
   - `.xaml` → WPF XAML 文件
   - `.xaml.cs` → WPF 后台代码文件
3. 确认配对关系：
   - `.Designer.cs` 应该对应 `.xaml`
   - `.cs` 应该对应 `.xaml.cs`
4. 验证文件名一致性

## 日志记录

将以下信息写入临时报告文件 `{OUTPUT_DIR}/{REPORT_FILE}.tmp`：

```markdown
# WinForms → WPF 代码审查报告

## 步骤1：文件配对分析

### 文件列表
- 总文件数：X

### 文件分类
#### WinForms 文件
- 设计器代码文件：X
- 后台代码文件：X

#### WPF 文件
- XAML 文件：X
- 后台代码文件：X

### 文件配对结果
#### 设计器代码配对
- [文件名.Designer.cs] ↔ [文件名.xaml] ✓
- [文件名.Designer.cs] ↔ [文件名.xaml] ✓

#### 后台代码配对
- [文件名.cs] ↔ [文件名.xaml.cs] ✓
- [文件名.cs] ↔ [文件名.xaml.cs] ✓

### 配对问题
- [问题描述]
- [问题描述]
```

## 下一步

继续执行：[步骤 2：后台代码审查](./step_02_backend_review.md)

---

## 错误处理

### 常见错误及处理方式

**错误 1：文件读取失败**
- 症状：无法读取文件内容
- 处理：检查文件路径是否正确，文件是否存在
- 日志记录：在日志中记录文件路径和错误信息

**错误 2：文件配对失败**
- 症状：无法找到对应的配对文件
- 处理：检查文件名是否一致，记录缺失的配对文件
- 日志记录：在日志中记录缺失的配对文件

**错误 3：文件数量不匹配**
- 症状：WinForms 和 WPF 文件数量不一致
- 处理：记录警告，继续审查可配对的文件
- 日志记录：在日志中记录数量不匹配的文件

### 错误恢复策略
- 如果文件读取失败，跳过该文件，继续处理其他文件
- 如果文件配对失败，记录警告，继续审查可配对的文件
- 如果文件数量不匹配，记录警告，继续审查可配对的文件

### 错误日志格式
```
[ERROR] [步骤1] 文件读取失败: [文件路径]
[WARNING] [步骤1] 文件配对失败: [文件名] - 缺少配对文件
[WARNING] [步骤1] 文件数量不匹配: WinForms [X] 个，WPF [Y] 个
```